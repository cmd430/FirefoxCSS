// Compact Menus with Icons
@media (-moz-bool-pref: "userChrome.CompactMenus") {
  :root {
    --arrowpanel-menuicon-padding: 8px;
    --arrowpanel-menuitem-margin: 0 var(--arrowpanel-menuicon-padding) !important;
    --arrowpanel-menuitem-padding: 5px !important;
    --arrowpanel-padding: 0.8em !important;
    --arrowpanel-menublank-padding: calc(var(--arrowpanel-menuicon-padding) * 2 + 8px) !important;
    --arrowpanel-menuimageblank-padding: calc(var(--arrowpanel-menuitem-padding) - 2px) !important;

    &[uidensity=compact] {
      --arrowpanel-menuitem-padding: 3px !important;

      toolbarbutton#tabs-newtab-button image.toolbarbutton-icon {
        padding: 4px !important;
      }
      tab image.tab-close-button.close-icon {
        height: 17px !important;
        padding: 4px !important;
        width: 17px !important;
      }
    }
    [uidensity=touch] {
      --arrowpanel-menuitem-padding: 8px !important;
    }
  }

  .subviewbutton .toolbarbutton-text {
    padding-inline-start: var(--arrowpanel-menuicon-padding) !important;
  }

  #panelMenu_bookmarksMenu .subviewbutton[disabled=true] .toolbarbutton-text,
  #appMenu_historyMenu .subviewbutton[disabled=true] .toolbarbutton-text {
    padding-inline-start: var(--arrowpanel-menublank-padding) !important;
  }
  #appmenu-developer-tools-view .subviewbutton image,
  #PanelUI-helpItems .subviewbutton image{
    width: 16px !important;
    height: 16px !important;
  }
  #appMenu-multiView .subviewbutton::before,
  #appMenu-proton-update-banner::before {
    display: -moz-inline-box;
    margin-inline-end: var(--arrowpanel-menuicon-padding);
    width:  16px !important;
    height: 16px !important;
  }
  #appMenu-proton-update-banner {
    margin-bottom: 2px !important;

    &::before {
      margin-inline-start: var(--arrowpanel-menuitem-padding) !important;
    }
    .toolbarbutton-text {
      margin-inline-start: 0 !important;
    }
  }

  #appMenu-fxa-status2,
  #appMenu-zoom-controls2 {
    align-items: center;
    padding-top: var(--arrowpanel-menuimageblank-padding) !important;
    padding-bottom: var(--arrowpanel-menuimageblank-padding) !important;

    &::before {
      margin-inline-end: 0 !important;
    }
    #appMenu-zoomReset-button2 > .toolbarbutton-text {
      border-radius: 8px !important;
      padding: 0 8px !important;
    }
  }

  #appMenu-multiView .subviewbutton::before,
  #appMenu-proton-update-banner::before,
  .subviewbutton > image:not([label*="Zoom"]) {
    fill: currentColor !important;
    fill-opacity: var(--toolbarbutton-icon-fill-opacity) !important;
    -moz-context-properties: fill !important;
  }
  #appMenu-fxa-status2::before {
    content: inline-svg('./svg/avatar-empty.svg');
  }
  #appMenu-fxa-status2[fxastatus=signedin]::before {
    display: none;
  }
  #appMenu-fxa-status2[fxastatus=signedin] #appMenu-fxa-label2::before {
    border-radius: 50%;
    content: '';
    background-size: 16px !important;
    background-image: var(--avatar-image-url) !important;
  }
  #appMenu-new-tab-button2 {
    list-style-image: inline-svg('./svg/new-tab.svg');
  }
  #appMenu-new-window-button2 {
    list-style-image: inline-svg('./svg/window.svg');
  }
  #appMenu-new-private-window-button2 {
    list-style-image: inline-svg('./svg/privateBrowsing.svg');
  }
  #appMenu-bookmarks-button{
    list-style-image: inline-svg('./svg/bookmark.svg');
  }
  #appMenu-history-button {
    list-style-image: inline-svg('./svg/history.svg');
  }
  #appMenu-downloads-button {
    list-style-image: inline-svg('./svg/downloads.svg');
  }
  #appMenu-passwords-button {
    list-style-image: inline-svg('./svg/login.svg');
  }
  #appMenu-extensions-themes-button {
    list-style-image: inline-svg('./svg/extension.svg');
  }
  #appMenu-print-button2 {
    list-style-image: inline-svg('./svg/print.svg');
  }
  #appMenu-save-file-button2 image,
  #appMenu-more-button2 image{
    width: 16px !important;
    height: 16px !important;
  }
  #appMenu-find-button2 {
    list-style-image: inline-svg('./svg/search-glass.svg');
  }
  #appMenu-zoom-controls2::before {
    content: '';
  }
  #appMenu-settings-button {
    list-style-image: inline-svg('./svg/settings.svg');
  }
  #appMenu-help-button2 {
    list-style-image: inline-svg('./svg/help.svg');
  }
  #PanelUI-fxa-menu-connect-device-button  .toolbarbutton-icon,
  #PanelUI-fxa-menu-account-signout-button .toolbarbutton-icon {
    width:  16px !important;
    height: 16px !important;
  }
  #fxa-menu-avatar {
    display: -moz-inline-box !important;
    margin-inline-end: var(--arrowpanel-menuitem-padding);
  }
  .syncNowBtn {
    visibility: visible !important;
    -moz-box-ordinal-group: 1 !important;
    margin-inline-end: var(--arrowpanel-menuicon-padding);
  }
  #PanelUI-fxa-menu-setup-sync-button {
    list-style-image: inline-svg('./svg/sync.svg');
  }
  #PanelUI-fxa-menu-connect-device-button {
    list-style-image: inline-svg('./svg/add-device.svg');
  }
  #PanelUI-fxa-menu-sync-prefs-button,
  #PanelUI-remotetabs-view-managedevices {
    list-style-image: inline-svg('./svg/settings.svg');
  }
  .PanelUI-remotetabs-notabsforclient-label {
    margin-inline-start: calc(var(--arrowpanel-menuicon-padding) + var(--arrowpanel-menuitem-padding)) !important;
    padding-inline-start: var(--arrowpanel-menublank-padding) !important;
  }
  .pageAction-sendToDevice-device.subviewbutton.sync-menuitem.sendtab-target:not([clientType]) {
    list-style-image: inline-svg('./svg/settings.svg');
  }
  #panelMenuBookmarkThisPage {
    list-style-image: inline-svg('./svg/bookmark-hollow.svg');
  }
  #panelMenuBookmarkThisPage[starred] {
    list-style-image: inline-svg('./svg/bookmark.svg');
  }
  #panelMenu_searchBookmarks {
    list-style-image: inline-svg('./svg/search-glass.svg');
  }
  #panelMenu_viewBookmarksToolbar {
    list-style-image: inline-svg('./svg/bookmarks-toolbar.svg');
  }
  #panelMenu_showAllBookmarks {
    list-style-image: inline-svg('./svg/bookmark-star-on-tray.svg');
  }
  #appMenuRecentlyClosedTabs {
    list-style-image: inline-svg('./svg/tab.svg');
  }
  #appMenuRecentlyClosedWindows {
    list-style-image: inline-svg('./svg/window.svg');
  }
  #appMenuClearRecentHistory {
    list-style-image: inline-svg('./svg/forget.svg');
  }
  #PanelUI-historyMore {
    list-style-image: inline-svg('./svg/history.svg');
  }
  #appmenu-moreTools-button {
    list-style-image: inline-svg('./svg/customize.svg');
  }
  #appmenu-developer-tools-view .subviewbutton:nth-child(6) {
    list-style-image: inline-svg('./svg/command-console.svg');
  }
  #appmenu-developer-tools-view .subviewbutton:nth-child(8) {
    list-style-image: inline-svg('./svg/command-eyedropper.svg');
  }
  #appmenu-developer-tools-view .subviewbutton:nth-child(10) {
    list-style-image: inline-svg('./svg/debugging-addons.svg');
  }
  #appmenu-developer-tools-view .subviewbutton:last-child {
    margin-bottom: 6px !important;
  }
  #appMenu_menu_openHelp {
    list-style-image: inline-svg('./svg/help.svg');
  }
  #appMenu_helpSafeMode {
    list-style-image: inline-svg('./svg/debugging-workers.svg');
  }
  #appMenu_troubleShooting {
    list-style-image: inline-svg('./svg/more.svg');
  }
  #appMenu_help_reportSiteIssue {
    list-style-image: inline-svg('./svg/lightbulb.svg');
  }
  #appMenu_menu_HelpPopup_reportPhishingtoolmenu {
    list-style-image: inline-svg('./svg/warning.svg');
  }
  #appMenu_aboutName{
    list-style-image: inline-svg('./svg/info.svg');
  }
  #appMenu-library-bookmarks-button {
    list-style-image: inline-svg('./svg/bookmark.svg');
  }
  #appMenu-library-history-button {
    list-style-image: inline-svg('./svg/history.svg');
  }
  #appMenu-library-downloads-button{
    list-style-image: inline-svg('./svg/downloads.svg');
  }
  #overflowMenu-customize-button {
    list-style-image: inline-svg('./svg/customize.svg');
  }
  #allTabsMenu-undoCloseTab {
    list-style-image: inline-svg('./svg/undo.svg');
  }
  #allTabsMenu-searchTabs {
    list-style-image: inline-svg('./svg/search-glass.svg');
  }
  #allTabsMenu-containerTabsView .subviewbutton:last-child {
    list-style-image: inline-svg('./svg/settings.svg');
  }
}
